<html>

<head>
    <title>three.js + ar.js</title>
    <meta name="viewport" content="width=device-width, viewport-fit=cover, shrink-to-fit=no" />
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .wrapper {
            position: relative;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <canvas></canvas>
    </div>
    <!--❶ three.jsとAR.jsを読み込む-->
    <script src="https://unpkg.com/three@0.127.0/build/three.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.3.3/three.js/build/ar.js"></script>
    <script async>
        const renderer = new THREE.WebGLRenderer({
            canvas: document.querySelector('canvas'),
            antialias: true,
            alpha: true
        });
        const camera = new THREE.PerspectiveCamera();
        const scene = new THREE.Scene();
        const markerRoot = new THREE.Group();
        const arToolkitContext = new THREEx.ArToolkitContext({
            cameraParametersUrl: './camera.dat', // ❷ camera.datを読み込む
            detectionMode: 'mono'
        });
        const arToolkitSource = new THREEx.ArToolkitSource({
            sourceType: 'webcam'
        });
        const arMarkerControl = new THREEx.ArMarkerControls(arToolkitContext, markerRoot, {
            type: 'pattern',
            patternUrl: 'pattern.patt' // ❸ pattern.pattを読み込む
        });

        renderer.setSize(window.innerWidth, window.innerHeight);

        window.addEventListener('resize', handleResize, {
            passive: true
        });

        arToolkitContext.init(() => {
            camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());
        });

        arToolkitSource.init(() => {
            document.querySelector('.wrapper').appendChild(arToolkitSource.domElement); // ❹ videoタグを.wrapper配下に移動させる
            setTimeout(handleResize, 400); // ❺ リサイズイベントを一度発火させる
        });

        scene.add(markerRoot);

        const directionalLight = new THREE.DirectionalLight(0xFFFFFF);
        directionalLight.position.set(1, 0, 1);
        scene.add(directionalLight);


        const atari_geometry = new THREE.BoxGeometry(0.1, 0.1, 0.1);
        const atari_material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
        atari_material.opacity = 0;
        atari_material.transparent = true;
        const atari = new THREE.Mesh(atari_geometry, atari_material);
        atari.position.set(0, 0, 0);
        markerRoot.add(atari);


        function createuzumaki() {
            class CustomSinCurve extends THREE.Curve {

                constructor(scale = 1) {
                    super();
                    this.scale = scale;
                }

                getPoint(t, optionalTarget = new THREE.Vector3()) {

                    const tx = Math.sin(4 * Math.PI * t) * 0.08 * (t * 0.1);
                    const ty = 0;
                    const tz = Math.cos(4 * Math.PI * t) * 0.08 * (t * 0.1);

                    return optionalTarget.set(tx, ty, tz).multiplyScalar(this.scale);
                }
            }
            const path = new CustomSinCurve(20);
            const geometry = new THREE.TubeGeometry(path, 100, 0.015, 36, false);
            const material = new THREE.MeshBasicMaterial({ color: 0xcd853f });
            material.wireframe = true;
            const mesh = new THREE.Mesh(geometry, material);
            return mesh;
        }

        function createuzumaki(r, k) {
            class CustomSinCurve extends THREE.Curve {

                constructor(scale = 1) {
                    super();
                    this.scale = scale;
                }

                getPoint(t, optionalTarget = new THREE.Vector3()) {

                    const tx = Math.sin(4 * Math.PI * t) * r * (t * 0.1);
                    const ty = 0;
                    const tz = Math.cos(4 * Math.PI * t) * r * (t * 0.1);

                    return optionalTarget.set(tx, ty, tz).multiplyScalar(this.scale);
                }
            }
            const path = new CustomSinCurve(k);
            const geometry = new THREE.TubeGeometry(path, 100, 0.015, 36, false);
            const material = new THREE.MeshBasicMaterial({ color: 0xcd853f });
            material.wireframe = true;
            const mesh = new THREE.Mesh(geometry, material);
            return mesh;
        }

        function createeda(l, k) {
            class CustomSinCurve1 extends THREE.Curve {

                constructor(scale = 1) {
                    super();
                    this.scale = scale;
                }

                getPoint(t, optionalTarget = new THREE.Vector3()) {

                    const tx = Math.sin(Math.PI * t) * 0.06;
                    const ty = 0;
                    const tz = t * k;

                    return optionalTarget.set(tx, ty, tz).multiplyScalar(this.scale);
                }
            }
            const path = new CustomSinCurve1(l);
            const geometry = new THREE.TubeGeometry(path, 100, 0.015, 36, false);
            const material = new THREE.MeshBasicMaterial({ color: 0xcd853f });
            material.wireframe = true;
            const mesh = new THREE.Mesh(geometry, material);
            return mesh;
        }

        function createedaw(l) {
            class CustomSinCurve1 extends THREE.Curve {

                constructor(scale = 1) {
                    super();
                    this.scale = scale;
                }

                getPoint(t, optionalTarget = new THREE.Vector3()) {

                    const tx = t * 0.1;
                    const ty = 0;
                    const tz = Math.sin(1.5 * Math.PI * t) * 0.01;

                    return optionalTarget.set(tx, ty, tz).multiplyScalar(this.scale);
                }
            }
            const path = new CustomSinCurve1(l);
            const geometry = new THREE.TubeGeometry(path, 100, 0.015, 36, false);
            const material = new THREE.MeshBasicMaterial({ color: 0xcd853f });
            material.wireframe = true;
            const mesh = new THREE.Mesh(geometry, material);
            return mesh;
        }

        function createedal(l, k) {
            class CustomSinCurve1 extends THREE.Curve {

                constructor(scale = 1) {
                    super();
                    this.scale = scale;
                }

                getPoint(t, optionalTarget = new THREE.Vector3()) {

                    const tx = Math.sin(Math.PI * t) * 0.04;
                    const ty = 0;
                    const tz = t * k;

                    return optionalTarget.set(tx, ty, tz).multiplyScalar(this.scale);
                }
            }
            const path = new CustomSinCurve1(l);
            const geometry = new THREE.TubeGeometry(path, 100, 0.015, 36, false);
            const material = new THREE.MeshBasicMaterial({ color: 0xcd853f });
            material.wireframe = true;
            const mesh = new THREE.Mesh(geometry, material);
            return mesh;
        }

        function createreefB() {
            var colorary = [0xffffff, 0xfffaf0, 0xffefd5, 0xffe4b5, 0xffe4e1, 0xfdf5e6, 0xf0ffff, 0xb0c4de, 0x4169e1, 0x0000cd, 0x00bfff, 0x87ceeb, 0xafeeee, 0x00ffff, 0x00ced1, 0x008b8b, 0x008000, 0x3cb371, 0x7fffd4, 0x00ff7f, 0x32cd32, 0x6b8e23, 0xeee8aa, 0xffffe0, 0xf5deb3, 0xd2b48c, 0xffff00, 0xffa500, 0xff8c00, 0xd2691e, 0x800000, 0xb22222, 0xe9967a, 0xfa8072, 0xff6347, 0xff0000, 0xff1493, 0xffb6c1, 0xff00ff, 0xda70d6, 0x9400d3, 0x800080, 0x8a2be2, 0x7b68ee];
            var colorcode = Math.floor(Math.random() * (colorary.length - 3));
            const reef_geometry = new THREE.CylinderGeometry(0.15, 0.15, 0.03, 360);
            const reef_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode] });
            const reef = new THREE.Mesh(reef_geometry, reef_material);
            const reef1_geometry = new THREE.CylinderGeometry(0.12, 0.12, 0.02, 360);
            const reef1_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode + 1] });
            const reef1 = new THREE.Mesh(reef1_geometry, reef1_material);
            reef.add(reef1);
            reef1.position.y += 0.02;
            const reef2_geometry = new THREE.CylinderGeometry(0.09, 0.09, 0.01, 360);
            const reef2_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode + 2] });
            const reef2 = new THREE.Mesh(reef2_geometry, reef2_material);
            reef2.position.y += 0.02;
            reef1.add(reef2);
            return reef;
        }

        function createreef() {
            var colorary = [0xffffff, 0xfffaf0, 0xffefd5, 0xffe4b5, 0xffe4e1, 0xfdf5e6, 0xf0ffff, 0xb0c4de, 0x4169e1, 0x0000cd, 0x00bfff, 0x87ceeb, 0xafeeee, 0x00ffff, 0x00ced1, 0x008b8b, 0x008000, 0x3cb371, 0x7fffd4, 0x00ff7f, 0x32cd32, 0x6b8e23, 0xeee8aa, 0xffffe0, 0xf5deb3, 0xd2b48c, 0xffff00, 0xffa500, 0xff8c00, 0xd2691e, 0x800000, 0xb22222, 0xe9967a, 0xfa8072, 0xff6347, 0xff0000, 0xff1493, 0xffb6c1, 0xff00ff, 0xda70d6, 0x9400d3, 0x800080, 0x8a2be2, 0x7b68ee];
            var colorcode = Math.floor(Math.random() * (colorary.length - 3));
            const reef_geometry = new THREE.CylinderGeometry(0.10, 0.10, 0.03, 360);
            const reef_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode] });
            const reef = new THREE.Mesh(reef_geometry, reef_material);
            const reef1_geometry = new THREE.CylinderGeometry(0.07, 0.07, 0.02, 360);
            const reef1_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode + 1] });
            const reef1 = new THREE.Mesh(reef1_geometry, reef1_material);
            reef.add(reef1);
            reef1.position.y += 0.02;
            const reef2_geometry = new THREE.CylinderGeometry(0.04, 0.04, 0.01, 360);
            const reef2_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode + 2] });
            const reef2 = new THREE.Mesh(reef2_geometry, reef2_material);
            reef2.position.y += 0.02;
            reef1.add(reef2);
            return reef;
        }

        function createreefs() {
            var colorary = [0xffffff, 0xfffaf0, 0xffefd5, 0xffe4b5, 0xffe4e1, 0xfdf5e6, 0xf0ffff, 0xb0c4de, 0x4169e1, 0x0000cd, 0x00bfff, 0x87ceeb, 0xafeeee, 0x00ffff, 0x00ced1, 0x008b8b, 0x008000, 0x3cb371, 0x7fffd4, 0x00ff7f, 0x32cd32, 0x6b8e23, 0xeee8aa, 0xffffe0, 0xf5deb3, 0xd2b48c, 0xffff00, 0xffa500, 0xff8c00, 0xd2691e, 0x800000, 0xb22222, 0xe9967a, 0xfa8072, 0xff6347, 0xff0000, 0xff1493, 0xffb6c1, 0xff00ff, 0xda70d6, 0x9400d3, 0x800080, 0x8a2be2, 0x7b68ee];
            var colorcode = Math.floor(Math.random() * (colorary.length - 3));
            const reef_geometry = new THREE.CylinderGeometry(0.06, 0.06, 0.03, 360);
            const reef_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode] });
            const reef = new THREE.Mesh(reef_geometry, reef_material);
            const reef1_geometry = new THREE.CylinderGeometry(0.03, 0.03, 0.02, 360);
            const reef1_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode + 1] });
            const reef1 = new THREE.Mesh(reef1_geometry, reef1_material);
            reef.add(reef1);
            reef1.position.y += 0.02;
            const reef2_geometry = new THREE.CylinderGeometry(0.02, 0.02, 0.01, 360);
            const reef2_material = new THREE.MeshBasicMaterial({ color: colorary[colorcode + 2] });
            const reef2 = new THREE.Mesh(reef2_geometry, reef2_material);
            reef2.position.y += 0.02;
            reef1.add(reef2);
            return reef;
        }

        const uzumaki1 = createuzumaki(0.08, 20);
        uzumaki1.rotation.x += Math.PI;
        uzumaki1.rotation.y += Math.PI / 180 * 60;
        const eda1 = createeda(6, 0.2);
        eda1.rotation.y += Math.PI / 180 * 20;
        atari.add(eda1);
        eda1.add(uzumaki1);
        uzumaki1.position.x += -0.14;
        uzumaki1.position.z += 0.08;
        eda1.rotation.y += Math.PI / 180 * 20;
        eda1.position.x += -0.9;
        eda1.position.z += -0.5;
        const uzumaki2 = createuzumaki(0.08, 20);
        const eda2 = createedaw(7);
        eda2.rotation.y -= Math.PI / 180 * 35;
        eda2.position.x += -1.0;
        eda2.position.z += -0.73;
        atari.add(eda2);
        eda2.add(uzumaki2);
        uzumaki2.rotation.y -= Math.PI / 180 * 20;
        uzumaki2.position.x += 0.06;
        uzumaki2.position.z -= 0.15;
        const eda3 = createedal(6.5, 0.3);
        eda3.rotation.y += Math.PI / 180 * 20;
        atari.add(eda3);
        eda3.position.x += -0.76;
        eda3.position.z += -1.41;
        const uzumaki3 = createuzumaki(0.08, 20);
        eda3.add(uzumaki3);
        uzumaki3.rotation.x += Math.PI;
        uzumaki3.rotation.y += Math.PI / 180 * 70;
        uzumaki3.position.x += -0.15;
        uzumaki3.position.z += 0.06;
        const eda4 = createedaw(5);
        eda4.rotation.y += Math.PI / 180 * 20;
        atari.add(eda4);
        eda4.rotation.y -= Math.PI / 180 * 95;
        eda4.position.z -= 1.3;
        eda4.position.x -= 0.48;
        const uzumaki4 = createuzumaki(0.08, 20);
        eda4.add(uzumaki4);
        uzumaki4.rotation.y -= Math.PI / 180 * 15;
        uzumaki4.position.x += 0.09;
        uzumaki4.position.z += -0.13;
        const eda5 = createedal(5.5, 0.45);
        eda5.rotation.y += Math.PI / 180 * 10;
        eda5.position.x += -0.5;
        eda5.position.z += -2.02;
        atari.add(eda5);
        const uzumaki5 = createuzumaki(0.08, 26);
        eda5.add(uzumaki5);
        uzumaki5.rotation.z -= Math.PI;
        uzumaki5.rotation.y += Math.PI / 180 * 95;
        uzumaki5.position.x -= 0.202;
        uzumaki5.position.z += 0.04;
        const eda6 = createedaw(12);
        eda6.rotation.y -= Math.PI / 180 * 85;
        eda6.rotation.x += Math.PI;
        eda6.position.z += -1;
        eda6.position.x += -0.098;
        atari.add(eda6);
        const uzumaki6 = createuzumaki(0.08, 27);
        uzumaki6.rotation.x += Math.PI;
        uzumaki6.rotation.y += Math.PI / 180 * 183;
        uzumaki6.position.x += 1.2;
        uzumaki6.position.z -= 0.338;
        eda6.add(uzumaki6);
        const eda7 = createeda(6, 0.3);
        eda7.rotation.y += Math.PI / 180 * 140;
        eda7.position.z += -0.2;
        eda7.position.x += -0.02;
        atari.add(eda7);
        const uzumaki7 = createuzumaki(0.08, 27);
        uzumaki7.rotation.x += Math.PI;
        uzumaki7.rotation.y += Math.PI / 180 * 183;
        uzumaki7.position.x += 1.2;
        uzumaki7.position.z -= 0.338;
        eda7.add(uzumaki7);
        const uzumaki8 = createuzumaki(0.08, 27);
        uzumaki8.rotation.x += Math.PI;
        uzumaki8.rotation.y += Math.PI / 180 * 280;
        uzumaki8.position.x += 0.38;
        uzumaki8.position.z += 1.56;
        eda7.add(uzumaki8);
        const uzumaki9 = createuzumaki(0.08, 27);
        uzumaki9.rotation.y += Math.PI / 180 * 70;
        uzumaki9.position.x += -0.2;
        uzumaki9.position.z += 1.72;
        eda7.add(uzumaki9);
        const uzumaki10 = createuzumaki(0.09, 27);
        uzumaki10.rotation.y += Math.PI / 180 * 215;
        uzumaki10.position.z += 1.;
        uzumaki10.position.x += 0.5;
        eda7.add(uzumaki10);
        const uzumaki11 = createuzumaki(0.08, 27);
        uzumaki11.rotation.y += Math.PI / 180 * 10;
        uzumaki11.position.z += 0.1;
        uzumaki11.position.x += 0.38;
        eda5.add(uzumaki11);
        const eda8 = createeda(4.5, 0.32);
        eda8.rotation.y += Math.PI / 180 * 145;
        eda8.position.z += 0.42;
        eda8.position.x -= 0.05;
        atari.add(eda8);
        const uzumaki12 = createuzumaki(0.08, 27);
        uzumaki12.rotation.x += Math.PI;
        uzumaki12.rotation.y -= Math.PI / 180 * 50;
        uzumaki12.position.x += 0.18;
        uzumaki12.position.z += 1.55;
        eda8.add(uzumaki12);
        const eda9 = createeda(2.5, 0.35);
        eda9.rotation.y += Math.PI / 180 * 145;
        eda9.position.z += 0.42;
        eda9.position.x -= 0.05;
        atari.add(eda9);
        const eda10 = createeda(1.5, 0.3);
        eda10.rotation.y -= Math.PI / 180 * 55;
        eda10.position.z += 0.758;
        eda10.position.x += 0.058;
        eda9.add(eda10);
        const uzumaki13 = createuzumaki(0.08, 23);
        uzumaki13.rotation.y += Math.PI / 180 * 65;
        uzumaki13.position.x -= 0.145;
        uzumaki13.position.z += 0.34;
        eda10.add(uzumaki13);
        const uzumaki14 = createuzumaki(0.08, 26);
        uzumaki14.rotation.y += Math.PI / 180 * 200;
        uzumaki14.position.x += 0.155;
        uzumaki14.position.z += 0.44;
        eda10.add(uzumaki14);

        const reef1 = createreefB();
        markerRoot.add(reef1);
        reef1.position.x += -0.5;
        reef1.position.z += -0.28;
        const reef2 = createreefB();
        markerRoot.add(reef2);
        reef2.position.x += -0.6;
        reef2.position.z += -0.63;
        const reef3 = createreefB();
        markerRoot.add(reef3);
        reef3.position.x += -0.6;
        reef3.position.z += -1;
        const reef4 = createreefB();
        markerRoot.add(reef4);
        reef4.position.x += -0.5;
        reef4.position.z += -1.5;
        const reef5 = createreefB();
        markerRoot.add(reef5);
        reef5.position.x += -1.0;
        reef5.position.z += -2.0;
        const reef6 = createreefB();
        markerRoot.add(reef6);
        reef6.position.x += -0.4;
        reef6.position.z += -2.15;
        const reef7 = createreefB();
        markerRoot.add(reef7);
        reef7.position.x += 0.15;
        reef7.position.z += -1.8;
        const reef8 = createreefB();
        markerRoot.add(reef8);
        reef8.position.x += 0.4;
        reef8.position.z += -1.6;
        const reef9 = createreefB();
        markerRoot.add(reef9);
        reef9.position.x += 1.05;
        reef9.position.z += -1.725;
        const reef10 = createreefB();
        markerRoot.add(reef10);
        reef10.position.x += 0.9;
        reef10.position.z += -1.3;
        const reef11 = createreefB();
        markerRoot.add(reef11);
        reef11.position.x += 0.95;
        reef11.position.z += -0.7;
        const reef12 = createreefB();
        markerRoot.add(reef12);
        reef12.position.x += 0.3;
        reef12.position.z += -0.05;
        const reef13 = createreefB();
        markerRoot.add(reef13);
        reef13.position.x += 0.4;
        reef13.position.z += -0.8;

        const reef14 = createreef();
        markerRoot.add(reef14);
        reef14.position.x += -0.4;
        reef14.position.z += -0.01;
        const reef15 = createreef();
        markerRoot.add(reef15);
        reef15.position.x += -0.28;
        reef15.position.z += -0.17;
        const reef16 = createreef();
        markerRoot.add(reef16);
        reef16.position.x += -0.8;
        reef16.position.z += -0.17;
        const reef17 = createreef();
        markerRoot.add(reef17);
        reef17.position.x += -1.33;
        reef17.position.z += -0.3;
        const reef18 = createreef();
        markerRoot.add(reef18);
        reef18.position.x += -1.2;
        reef18.position.z += -0.45;
        const reef19 = createreef();
        markerRoot.add(reef19);
        reef19.position.x += -1.45;
        reef19.position.z += -0.6;
        const reef20 = createreef();
        markerRoot.add(reef20);
        reef20.position.x += -1.5;
        reef20.position.z += -0.9;
        const reef21 = createreef();
        markerRoot.add(reef21);
        reef21.position.x += -1.3;
        reef21.position.z += -1.00;
        const reef22 = createreef();
        markerRoot.add(reef22);
        reef22.position.x += -1.1;
        reef22.position.z += -1.01;
        const reef23 = createreef();
        markerRoot.add(reef23);
        reef23.position.x += -0.85;
        reef23.position.z += -1.1;
        const reef24 = createreef();
        markerRoot.add(reef24);
        reef24.position.x += -0.4;
        reef24.position.z += -0.8;
        const reef25 = createreef();
        markerRoot.add(reef25);
        reef25.position.x += -0.3;
        reef25.position.z += -0.6;
        const reef26 = createreef();
        markerRoot.add(reef26);
        reef26.position.x += -1.1;
        reef26.position.z += -1.4;
        const reef27 = createreef();
        markerRoot.add(reef27);
        reef27.position.x += -1.3;
        reef27.position.z += -1.2;
        const reef28 = createreef();
        markerRoot.add(reef28);
        reef28.position.x += -0.7;
        reef28.position.z += -1.7;
        const reef29 = createreef();
        markerRoot.add(reef29);
        reef29.position.x += -0.9;
        reef29.position.z += -1.6;
        const reef30 = createreef();
        markerRoot.add(reef30);
        reef30.position.x += -0.2;
        reef30.position.z += -0.9;
        const reef31 = createreef();
        markerRoot.add(reef31);
        reef31.position.x += -1.2;
        reef31.position.z += -1.85;
        const reef32 = createreef();
        markerRoot.add(reef32);
        reef32.position.x += -1.0;
        reef32.position.z += -2.25;
        const reef33 = createreef();
        markerRoot.add(reef33);
        reef33.position.x += -0.79;
        reef33.position.z += -2.24;
        const reef34 = createreef();
        markerRoot.add(reef34);
        reef34.position.x += -0.6;
        reef34.position.z += -2.3;
        const reef35 = createreef();
        markerRoot.add(reef35);
        reef35.position.x += -0.01;
        reef35.position.z += -2.25;
        const reef36 = createreef();
        markerRoot.add(reef36);
        reef36.position.x += 0.13;
        reef36.position.z += -2.4;
        const reef37 = createreef();
        markerRoot.add(reef37);
        reef37.position.x += -0.25;
        reef37.position.z += -2.4;
        const reef38 = createreef();
        markerRoot.add(reef38);
        reef38.position.x += 0.6;
        reef38.position.z += -2.3;
        const reef39 = createreef();
        markerRoot.add(reef39);
        reef39.position.x += 0.45;
        reef39.position.z += -2.45;
        const reef40 = createreef();
        markerRoot.add(reef40);
        reef40.position.x += 0.65;
        reef40.position.z += -2.55;
        const reef41 = createreef();
        markerRoot.add(reef41);
        reef41.position.x += 0.4;
        reef41.position.z += -1.93;
        const reef42 = createreef();
        markerRoot.add(reef42);
        reef42.position.x += 0.8;
        reef42.position.z += -1.94;
        const reef43 = createreef();
        markerRoot.add(reef43);
        reef43.position.x += 0.6;
        reef43.position.z += -2.09;
        const reef44 = createreef();
        markerRoot.add(reef44);
        reef44.position.x += 0;
        reef44.position.z += -1.6;
        const reef45 = createreef();
        markerRoot.add(reef45);
        reef45.position.x += -0.06;
        reef45.position.z += -1.4;
        const reef46 = createreef();
        markerRoot.add(reef46);
        reef46.position.x += 0.05;
        reef46.position.z += -1.0;
        const reef47 = createreef();
        markerRoot.add(reef47);
        reef47.position.x += 0.4;
        reef47.position.z += -1.06;
        const reef48 = createreef();
        markerRoot.add(reef48);
        reef48.position.x += 0.15;
        reef48.position.z += -0.55;
        const reef49 = createreef();
        markerRoot.add(reef49);
        reef49.position.x += 0.65;
        reef49.position.z += -1.26;
        const reef50 = createreef();
        markerRoot.add(reef50);
        reef50.position.x += 1.;
        reef50.position.z += -0.94;
        const reef51 = createreef();
        markerRoot.add(reef51);
        reef51.position.x += 1.3;
        reef51.position.z += -1.11;
        const reef52 = createreef();
        markerRoot.add(reef52);
        reef52.position.x += 1.55;
        reef52.position.z += -1.35;
        const reef53 = createreef();
        markerRoot.add(reef53);
        reef53.position.x += 1.35;
        reef53.position.z += -1.68;
        const reef54 = createreef();
        markerRoot.add(reef54);
        reef54.position.x += 1.6;
        reef54.position.z += -1.83;
        const reef55 = createreef();
        markerRoot.add(reef55);
        reef55.position.x += 1.25;
        reef55.position.z += -1.88;
        const reef56 = createreef();
        markerRoot.add(reef56);
        reef56.position.x += 1.05;
        reef56.position.z += -1.98;
        const reef57 = createreef();
        markerRoot.add(reef57);
        reef57.position.x += 0.6;
        reef57.position.z += -1.9;
        const reef58 = createreef();
        markerRoot.add(reef58);
        reef58.position.x += 1.53;
        reef58.position.z += -1.6;
        const reef59 = createreef();
        markerRoot.add(reef59);
        reef59.position.x += 1.5;
        reef59.position.z += -1.1;
        const reef60 = createreef();
        markerRoot.add(reef60);
        reef60.position.x += 1.2;
        reef60.position.z += -0.9;
        const reef61 = createreef();
        markerRoot.add(reef61);
        reef61.position.x += 1.2;
        reef61.position.z += -0.6;
        const reef62 = createreef();
        markerRoot.add(reef62);
        reef62.position.x += 1.05;
        reef62.position.z += -0.4;
        const reef63 = createreef();
        markerRoot.add(reef63);
        reef63.position.x += 0.47;
        reef63.position.z += -0.48;
        const reef64 = createreef();
        markerRoot.add(reef64);
        reef64.position.x += 0.27;
        reef64.position.z += -0.32;
        const reef65 = createreef();
        markerRoot.add(reef65);
        reef65.position.x += 0.95;
        reef65.position.z += -0.2;
        const reef66 = createreef();
        markerRoot.add(reef66);
        reef66.position.x += 0.75;
        reef66.position.z += 0.2;
        const reef67 = createreef();
        markerRoot.add(reef67);
        reef67.position.x += 0.50;
        reef67.position.z += 0.1;
        const reef68 = createreef();
        markerRoot.add(reef68);
        reef68.position.x += 0.95;
        reef68.position.z += 0.4;
        const reef69 = createreef();
        markerRoot.add(reef69);
        reef69.position.x += 0.9;
        reef69.position.z += 0.05;
        const reef70 = createreef();
        markerRoot.add(reef70);
        reef70.position.x += 1.35;
        reef70.position.z += 0.25;

        const reef71 = createreefs();
        markerRoot.add(reef71);
        reef71.position.x += -0.5;
        reef71.position.z += 0.25;
        const reef72 = createreefs();
        markerRoot.add(reef72);
        reef72.position.x += -0.2;
        reef72.position.z += 0.15;
        const reef73 = createreefs();
        markerRoot.add(reef73);
        reef73.position.x += -0.22;
        reef73.position.z += -0.01;
        const reef74 = createreefs();
        markerRoot.add(reef74);
        reef74.position.x += -0.35;
        reef74.position.z += 0.16;
        const reef75 = createreefs();
        markerRoot.add(reef75);
        reef75.position.x += -0.55;
        reef75.position.z += -0.08;
        const reef76 = createreefs();
        markerRoot.add(reef76);
        reef76.position.x += -0.62;
        reef76.position.z += 0.03;
        const reef77 = createreefs();
        markerRoot.add(reef77);
        reef77.position.x += -1.02;
        reef77.position.z += -0.1;
        const reef78 = createreefs();
        markerRoot.add(reef78);
        reef78.position.x += -0.78;
        reef78.position.z += -0.33;
        const reef79 = createreefs();
        markerRoot.add(reef79);
        reef79.position.x += -0.68;
        reef79.position.z += -0.4;
        const reef80 = createreefs();
        markerRoot.add(reef80);
        reef80.position.x += -0.93;
        reef80.position.z += 0.37;
        const reef81 = createreefs();
        markerRoot.add(reef81);
        reef81.position.x += -0.78;
        reef81.position.z += 0.15;
        const reef82 = createreefs();
        markerRoot.add(reef82);
        reef82.position.x += -1.03;
        reef82.position.z += 0.07;
        const reef83 = createreefs();
        markerRoot.add(reef83);
        reef83.position.x += -0.78;
        reef83.position.z += 0;
        const reef84 = createreefs();
        markerRoot.add(reef84);
        reef84.position.x += -0.93;
        reef84.position.z += 0;
        const reef85 = createreefs();
        markerRoot.add(reef85);
        reef85.position.x += -0.9;
        reef85.position.z += 0.14;
        const reef86 = createreefs();
        markerRoot.add(reef86);
        reef86.position.x += -0.95;
        reef86.position.z += 0.26;
        const reef87 = createreefs();
        markerRoot.add(reef87);
        reef87.position.x += -1.45;
        reef87.position.z += -1.26;
        const reef88 = createreefs();
        markerRoot.add(reef88);
        reef88.position.x += -1.55;
        reef88.position.z += -1.46;
        const reef89 = createreefs();
        markerRoot.add(reef89);
        reef89.position.x += -1.15;
        reef89.position.z += -0.26;
        const reef90 = createreefs();
        markerRoot.add(reef90);
        reef90.position.x += -1.21;
        reef90.position.z += -0.15;
        const reef91 = createreefs();
        markerRoot.add(reef91);
        reef91.position.x += -1.21;
        reef91.position.z += 0.15;
        const reef92 = createreefs();
        markerRoot.add(reef92);
        reef92.position.x += -1.14;
        reef92.position.z += 0;
        const reef93 = createreefs();
        markerRoot.add(reef93);
        reef93.position.x += -1.49;
        reef93.position.z += -0.2;
        const reef94 = createreefs();
        markerRoot.add(reef94);
        reef94.position.x += -1.64;
        reef94.position.z += -0.3;
        const reef95 = createreefs();
        markerRoot.add(reef95);
        reef95.position.x += -1.59;
        reef95.position.z += -0.45;
        const reef96 = createreefs();
        markerRoot.add(reef96);
        reef96.position.x += -1.45;
        reef96.position.z += -0.4;
        const reef97 = createreefs();
        markerRoot.add(reef97);
        reef97.position.x += -1.79;
        reef97.position.z += -0.6;
        const reef98 = createreefs();
        markerRoot.add(reef98);
        reef98.position.x += -1.74;
        reef98.position.z += -0.75;
        const reef99 = createreefs();
        markerRoot.add(reef99);
        reef99.position.x += -1.6;
        reef99.position.z += -0.7;
        const reef100 = createreefs();
        markerRoot.add(reef100);
        reef100.position.x += -1.73;
        reef100.position.z += -0.95;
        const reef101 = createreefs();
        markerRoot.add(reef101);
        reef101.position.x += -1.68;
        reef101.position.z += -1.15;
        const reef102 = createreefs();
        markerRoot.add(reef102);
        reef102.position.x += -1.52;
        reef102.position.z += -1.1;
        const reef103 = createreefs();
        markerRoot.add(reef103);
        reef103.position.x += -1.68;
        reef103.position.z += -1.35;
        const reef104 = createreefs();
        markerRoot.add(reef104);
        reef104.position.x += -1.38;
        reef104.position.z += -1.55;
        const reef105 = createreefs();
        markerRoot.add(reef105);
        reef105.position.x += -1.33;
        reef105.position.z += -1.42;
        const reef106 = createreefs();
        markerRoot.add(reef106);
        reef106.position.x += -1.18;
        reef106.position.z += -1.65;
        const reef107 = createreefs();
        markerRoot.add(reef107);
        reef107.position.x += -1.23;
        reef107.position.z += -1.52;
        const reef108 = createreefs();
        markerRoot.add(reef108);
        reef108.position.x += -1.06;
        reef108.position.z += -1.56;
        const reef109 = createreefs();
        markerRoot.add(reef109);
        reef109.position.x += -1.08;
        reef109.position.z += -1.72;
        const reef110 = createreefs();
        markerRoot.add(reef110);
        reef110.position.x += -0.97;
        reef110.position.z += -1.79;
        const reef111 = createreefs();
        markerRoot.add(reef111);
        reef111.position.x += -0.85;
        reef111.position.z += -1.78;
        const reef112 = createreefs();
        markerRoot.add(reef112);
        reef112.position.x += -0.73;
        reef112.position.z += -1.51;
        const reef113 = createreefs();
        markerRoot.add(reef113);
        reef113.position.x += -0.7;
        reef113.position.z += -1.21;
        const reef114 = createreefs();
        markerRoot.add(reef114);
        reef114.position.x += -0.82;
        reef114.position.z += -0.62;
        const reef115 = createreefs();
        markerRoot.add(reef115);
        reef115.position.x += -1.0;
        reef115.position.z += -0.57;
        const reef116 = createreefs();
        markerRoot.add(reef116);
        reef116.position.x += -1.03;
        reef116.position.z += -1.17;
        const reef117 = createreefs();
        markerRoot.add(reef117);
        reef117.position.x += -1.14;
        reef117.position.z += -1.24;
        const reef118 = createreefs();
        markerRoot.add(reef118);
        reef118.position.x += -0.2;
        reef118.position.z += -0.34;
        const reef119 = createreefs();
        markerRoot.add(reef119);
        reef119.position.x += -0.3;
        reef119.position.z += -0.44;
        const reef120 = createreefs();
        markerRoot.add(reef120);
        reef120.position.x += -0.43;
        reef120.position.z += -0.5;
        const reef121 = createreefs();
        markerRoot.add(reef121);
        reef121.position.x += -0.11;
        reef121.position.z += -0.58;
        const reef122 = createreefs();
        markerRoot.add(reef122);
        reef122.position.x += -0.14;
        reef122.position.z += -0.74;
        const reef123 = createreefs();
        markerRoot.add(reef123);
        reef123.position.x += 0.02;
        reef123.position.z += -0.8;
        const reef124 = createreefs();
        markerRoot.add(reef124);
        reef124.position.x += -0.02;
        reef124.position.z += -1.15;
        const reef125 = createreefs();
        markerRoot.add(reef125);
        reef125.position.x += -0.23;
        reef125.position.z += -1.09;
        const reef126 = createreefs();
        markerRoot.add(reef126);
        reef126.position.x += -0.37;
        reef126.position.z += -1.07;
        const reef127 = createreefs();
        markerRoot.add(reef127);
        reef127.position.x += -0.43;
        reef127.position.z += -1.71;
        const reef128 = createreefs();
        markerRoot.add(reef128);
        reef128.position.x += -0.55;
        reef128.position.z += -1.77;
        const reef129 = createreefs();
        markerRoot.add(reef129);
        reef129.position.x += -0.52;
        reef129.position.z += -1.89;
        const reef130 = createreefs();
        markerRoot.add(reef130);
        reef130.position.x += -0.56;
        reef130.position.z += -1.3;
        const reef131 = createreefs();
        markerRoot.add(reef131);
        reef131.position.x += -0.21;
        reef131.position.z += -1.6;
        const reef132 = createreefs();
        markerRoot.add(reef132);
        reef132.position.x += -0.16;
        reef132.position.z += -1.72;
        const reef133 = createreefs();
        markerRoot.add(reef133);
        reef133.position.x += -0.31;
        reef133.position.z += -1.81;
        const reef134 = createreefs();
        markerRoot.add(reef134);
        reef134.position.x += -0.37;
        reef134.position.z += -1.94;
        const reef135 = createreefs();
        markerRoot.add(reef135);
        reef135.position.x += -1.36;
        reef135.position.z += -1.81;
        const reef136 = createreefs();
        markerRoot.add(reef136);
        reef136.position.x += -1.42;
        reef136.position.z += -1.94;
        const reef137 = createreefs();
        markerRoot.add(reef137);
        reef137.position.x += -1.37;
        reef137.position.z += -2.14;
        const reef138 = createreefs();
        markerRoot.add(reef138);
        reef138.position.x += -1.22;
        reef138.position.z += -2.04;
        const reef139 = createreefs();
        markerRoot.add(reef139);
        reef139.position.x += -1.15;
        reef139.position.z += -2.16;
        const reef140 = createreefs();
        markerRoot.add(reef140);
        reef140.position.x += -0.85;
        reef140.position.z += -2.41;
        const reef141 = createreefs();
        markerRoot.add(reef141);
        reef141.position.x += -0.56;
        reef141.position.z += -2.46;
        const reef142 = createreefs();
        markerRoot.add(reef142);
        reef142.position.x += -0.42;
        reef142.position.z += -2.38;
        const reef143 = createreefs();
        markerRoot.add(reef143);
        reef143.position.x += -0.07;
        reef143.position.z += -2.48;
        const reef144 = createreefs();
        markerRoot.add(reef144);
        reef144.position.x += -0.19;
        reef144.position.z += -2.25;
        const reef145 = createreefs();
        markerRoot.add(reef145);
        reef145.position.x += 0.18;
        reef145.position.z += -2.02;
        const reef146 = createreefs();
        markerRoot.add(reef146);
        reef146.position.x += 0.28;
        reef146.position.z += -2.45;
        const reef147 = createreefs();
        markerRoot.add(reef147);
        reef147.position.x += 0.83;
        reef147.position.z += -2.45;
        const reef148 = createreefs();
        markerRoot.add(reef148);
        reef148.position.x += 0.75;
        reef148.position.z += -2.25;
        const reef149 = createreefs();
        markerRoot.add(reef149);
        reef149.position.x += 0.9;
        reef149.position.z += -2.1;
        const reef150 = createreefs();
        markerRoot.add(reef150);
        reef150.position.x += 0.18;
        reef150.position.z += -1.57;
        const reef151 = createreefs();
        markerRoot.add(reef151);
        reef151.position.x += 1.1;
        reef151.position.z += -2.15;
        const reef152 = createreefs();
        markerRoot.add(reef152);
        reef152.position.x += 1.3;
        reef152.position.z += -2.25;
        const reef153 = createreefs();
        markerRoot.add(reef153);
        reef153.position.x += 1.2;
        reef153.position.z += -2.05;
        const reef154 = createreefs();
        markerRoot.add(reef154);
        reef154.position.x += 1.42;
        reef154.position.z += -1.85;
        const reef155 = createreefs();
        markerRoot.add(reef155);
        reef155.position.x += 1.5;
        reef155.position.z += -1.95;
        const reef156 = createreefs();
        markerRoot.add(reef156);
        reef156.position.x += 1.72;
        reef156.position.z += -1.53;
        const reef157 = createreefs();
        markerRoot.add(reef157);
        reef157.position.x += 1.67;
        reef157.position.z += -1.17;
        const reef158 = createreefs();
        markerRoot.add(reef158);
        reef158.position.x += 1.07;
        reef158.position.z += -1.17;
        const reef159 = createreefs();
        markerRoot.add(reef159);
        reef159.position.x += 0.55;
        reef159.position.z += -1.44;
        const reef160 = createreefs();
        markerRoot.add(reef160);
        reef160.position.x += 1.37;
        reef160.position.z += -0.97;
        const reef161 = createreefs();
        markerRoot.add(reef161);
        reef161.position.x += 1.34;
        reef161.position.z += -0.77;
        const reef162 = createreefs();
        markerRoot.add(reef162);
        reef162.position.x += 0.74;
        reef162.position.z += -0.65;
        const reef163 = createreefs();
        markerRoot.add(reef163);
        reef163.position.x += 0.2;
        reef163.position.z += -0.85;
        const reef164 = createreefs();
        markerRoot.add(reef164);
        reef164.position.x += 1.24;
        reef164.position.z += -0.43;
        const reef165 = createreefs();
        markerRoot.add(reef165);
        reef165.position.x += 1.14;
        reef165.position.z += -0.23;
        const reef166 = createreefs();
        markerRoot.add(reef166);
        reef166.position.x += 1.04;
        reef166.position.z += -0.08;
        const reef167 = createreefs();
        markerRoot.add(reef167);
        reef167.position.x += 1.24;
        reef167.position.z += -0.3;
        const reef168 = createreefs();
        markerRoot.add(reef168);
        reef168.position.x += 0.5;
        reef168.position.z += -0.2;
        const reef169 = createreefs();
        markerRoot.add(reef169);
        reef169.position.x += 1.09;
        reef169.position.z += 0.1;
        const reef170 = createreefs();
        markerRoot.add(reef170);
        reef170.position.x += 0.92;
        reef170.position.z += 0.24;
        const reef171 = createreefs();
        markerRoot.add(reef171);
        reef171.position.x += 1.14;
        reef171.position.z += 0.4;


        function animate() {
            requestAnimationFrame(animate);

            renderer.render(scene, camera);
        }
        animate();

        renderer.setAnimationLoop((delta) => {
            if (arToolkitSource.ready) {
                arToolkitContext.update(arToolkitSource.domElement);
            }

            renderer.render(scene, camera);
        });

        function handleResize() {
            if (arToolkitSource.ready) {
                arToolkitSource.onResize();
                arToolkitSource.copySizeTo(renderer.domElement);
            }

            renderer.setPixelRatio(window.devicePixelRatio);
        }
    </script>
</body>

</html>
